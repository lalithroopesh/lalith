<!DOCTYPE html>

<html>
    <head>
        <!-- <link rel="stylesheet" href="../styles.css"> -->
        <style>
            html, body { 
                width: 100%; 
                height: 100%; 
                overflow: hidden; 
                background-color: lightslategray;
                font-family: monospace;
            }
        </style>
        <title>Lalith : MolViewer</title>
        <link rel="icon" href="../files/lalith-icon.png?" type="image/x-icon">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
        <script src="../files/ngl.js"></script>
    </head>

    <body>
        <form id="form" style="margin: 2em 2em 2em 2em;">
            <label for="molcode"><h3><b>Enter RCSB Molecule Code: (ex. 7oh9)</b></h3></label>
            <input type="molcode" name="molcode" id="molcode">
            <input type="submit" value="Submit">
        </form>
        <div class="viewport" id="viewport" style="width:98%; height:82%;"></div>
        <script>
            const form = document.getElementById("form");
            const queryString = window.location.search;
            const urlParams = new URLSearchParams(queryString);

            var load = false;

            document.addEventListener("DOMContentLoaded", function () {
              var stage = new NGL.Stage("viewport");
              const molc = urlParams.get('molcode');
              stage.loadFile("rcsb://" + molc, {defaultRepresentation: true});
            });

        </script>
    </body>
</html>